// RP2040 MCU - Simplified Platform for Renode
// Uses only built-in peripherals (no custom RP2040-specific models)
// Good enough for basic UART/GPIO testing

cpu: CPU.CortexM @ sysbus
    cpuType: "cortex-m0+"
    nvic: nvic

nvic: IRQControllers.NVIC @ sysbus 0xE000E000
    priorityMask: 0xC0
    systickFrequency: 125000000
    IRQ -> cpu@0

// SRAM (264 KB total)
sram: Memory.MappedMemory @ sysbus 0x20000000
    size: 0x42000

// Flash (2 MB)
flash: Memory.MappedMemory @ sysbus 0x10000000
    size: 0x200000

// Bootrom (16 KB)
rom: Memory.MappedMemory @ sysbus 0x00000000
    size: 0x4000

// --- RP2040 HARDWARE PERIPHERALS ---

// UARTs
uart0: UART.PL011 @ sysbus 0x40034000
    -> nvic@20
uart1: UART.PL011 @ sysbus 0x40038000
    -> nvic@21

// Real Timer (Required for sleep_ms)
// Note: Using SP804 as a generic substitute
timer: Timers.ARM_SP804_Timer @ sysbus 0x40054000
    frequency: 1000000

// Placeholder stubs for SDK stability
syscfg: Memory.MappedMemory @ sysbus 0x40004000
    size: 0x1000
watchdog: Memory.MappedMemory @ sysbus 0x40058000
    size: 0x1000
resets: Memory.MappedMemory @ sysbus 0x4000c000
    size: 0x1000
clocks: Memory.MappedMemory @ sysbus 0x40008000
    size: 0x1000
xosc: Memory.MappedMemory @ sysbus 0x40024000
    size: 0x1000
pll_sys: Memory.MappedMemory @ sysbus 0x40028000
    size: 0x1000
pll_usb: Memory.MappedMemory @ sysbus 0x4002c000
    size: 0x1000
io_bank0: Memory.MappedMemory @ sysbus 0x40014000
    size: 0x1000
pads_bank0: Memory.MappedMemory @ sysbus 0x4001c000
    size: 0x1000
sio: Memory.MappedMemory @ sysbus 0xd0000000
    size: 0x1000
